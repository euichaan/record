# 1. 들어가기에 앞서...
## Layer와 Layered 구조
도식화를 하는 이유는 구성요소의 관계를 표현하기 위함이다.  
레이어드로 도식화를 하는 경우는, 예를 들어 4층은 3층에 대해서 의존적이라는 뜻이다.  
심한 경우에는 존립에 대한 의존성을 가지는 경우가 있다.  
Layered 구조인 경우에는 존립이 의존적이라고 생각하면 된다. 3은 4의 전제조건이 된다.  
  
OSI 7 Layer  
  
## 네트워크와 네트워킹 그리고 개념
Network: 관계, Networking: 상호작용  
  
철수와 Olivia 는 영어(언어)(3 Layer)라는 문제가 해결이 돼야 상호작용(Networking)을 할 수 있다.  
아니면 말이나 글(2 Layer)로 할 수 있다. 말로 하려면 공기 중이어야 하고, 2m 이내(1 Layer)에 있어야 한다.  
  
계층별로 규칙(Protocol)을 정한다.
  
OSI 7 Layer는 개념이기 때문에 이해하기 어렵다. 우리가 공부하고 싶은 것은 TCP/IP 네트워크. TCP/IP 규칙은 구현에 해당된다.  
TCP/IP를 잘하려면 TCP/IP에 대해서 공부하면 된다.  
  
## User mode와 Kernel mode
S/W 는 User mode와 Kernel mode로 나뉜다. 하드웨어 중 NIC(network interface card, LAN카드)가 있다.  
어떤 하드웨어를 제어하기 위한 소프트웨어가 존재하는데 그것을 드라이버라고 부른다. 랜카드를 사서 컴퓨터에 장착하면 드라이버라는 것이 설치되어야 작동을 할 수 있다.  
  
커널을 이루는 구성 요소에서 TCP/IP로 구현이 되어 있고, User mode 애플리케이션이 크롬이라고 가정하자. Kernel mode의 구성 요소를 User mode application process가 접근할 수 있도록 길을 열어주는데 인터페이스의 형태가 File로 되어있다. **TCP/IP를 추상화시킨 인터페이스 File을 Socket이라고 부른다.**  

사용자 애플리케이션이 네트워크 통신을 하고 싶을 때, 커널에 socket() 이라는 시스템 콜을 호출하여 네트워크 연결을 위한 파일을 하나 만들어 달라고 요청한다. 커널은 내부의 복잡한 TCP/IP 스택과 연결된 가상의 파일을 생성하고, 그 파일을 가리키는 파일 디스크립터를 애플리케이션에 돌려준다. 애플리케이션은 이 파일 디스크립터를 통해 마치 파일에 데이터를 쓰거나 읽는 것처럼 네트워크 통신을 수행할 수 있다.
  
소켓의 실체는 파일이다. 특별히 네트워크 추상화가 이루어진 파일을 소켓이라고 부른다.  
소켓을 여는 주체가 프로세스다.