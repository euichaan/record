# 프로그램 밑의 세계
<img width="234" alt="스크린샷 2024-10-01 오전 11 59 39" src="https://github.com/user-attachments/assets/1c8ed9ee-4bcf-48f5-8842-efa86c94c3dc">  
  
워드 프로세서나 대형 데이터베이스 시스템 같은 전형적인 응용은 수백만 줄의 코드로 구성될 뿐만 아니라, 응용 프로그램이 필요로 하는 여러 가지 기능을 구현하는 복잡한 소프트웨어 라이브러리를 사용하게 된다. 하지만 컴퓨터 하드웨어는 아주 단순한 저수준의 명령어를 실행할 수 있을 뿐이다.  
  
복잡한 응용에서 출발해서 단순한 명령어까지 내려가려면 높은 수준의 작업을 단순한 컴퓨터 명령어로 번역 또는 해독하는 여러 겹의 소프트웨어가 필요하다. 이것이 추상화라고 하는 아이디어의 한 예이다.  
  
응용 프로그램이 가장 바깥쪽에 위치하며, 여러 가지 시스템 소프트웨어가 하드웨어와 응용 소프트웨어 사이에 존재한다.  
시스템 소프트웨어에는 여러 가지가 있으나, 오늘날 모든 컴퓨터 시스템에서 핵심이 되는 두 가지는 운영체제와 컴파일러이다.  
  
> 복잡한 응용의 경우는 응용 소프트웨어 자체가 여러 층으로 구성될 수 있다. 예를 들면, 응용을 지원하는 데이터베이스 시스템이 시스템 소프트웨어 위에서 실행되고, 응용 소프트웨어는 다시 데이터베이스 위에서 실행된다.  
  
명령어와 데이터를 0과 1로 이루어진 숫자로 표현하는 것이 컴퓨터의 기초이다.  
이진수로 코드를 작성하는 것은 매우 지겨운 작업이었기 때문에 컴퓨터에 프로그램하는 것을 컴퓨터 자신이 도와주도록 만들었다. 이런 프로그램을 어셈블러(assembler)라 불렀다. 이 프로그램은 기호로 된 명령어를 이진수로 바꾸어 준다.  
예를 들어 프로그래머가 `add A,B` 라고 쓰면 어셈블러가 이것을 `1001010100101110`으로 바꾼다.  
  
프로그램은 고성능 언어로 작성하고 나중에 이것을 컴퓨터 명령어로 번역할 수 있다는 사실을 깨달은 것은 컴퓨터 역사 초창기에 있어던 획기적 진전 중의 하나이다.  
# 케이스를 열고 - 하드웨어
모든 컴퓨터의 하드웨어는 다음 네 가지 기본 기능을 수행한다.  
- 데이터 입력  
- 데이터 출력  
- 데이터 처리  
- 데이터 저장  
  
컴퓨터의 고전적 구성 요소 다섯 가지는 입력, 출력, 메모리, 데이터패스(datapath), 제어 유닛이다.(뒤의 2개를 합쳐서 프로세서라고 부르기도 한다.) 
프로세서는 메모리에서 명령어와 데이터를 읽는다. 입력장치는 메모리에 데이터를 쓰고, 출력장치는 메모리에서 데이터를 읽는다. 제어 유닛은 데이터패스, 메모리, 입력장치, 출력장치의 동작을 결정하는 신호를 내보낸다.  

iPhone A12 패키지에는 2.5 GHz의 클럭으로 구동되는 2개의 큰 ARM 프로세서와 4개의 작은 ARM 프로세서가 있다. 프로세서는 프로그램의 지시대로 일을 하는 부분으로 보드 내에서 가장 역동적인 부분이다. 프로세서를 CPU라는 더 관료적 느낌의 용어로 부르기도 한다.  
  
> CPU는 데이터패스와 제어 유닛으로 구성된 컴퓨터의 핵심 부분으로, 숫자를 더하거나 검사하고, 입출력 장치에 신호를 보내 활성화하는 일을 한다.  
데이터패스는 산술 연산을 수행하는 프로세스 구성 요소이다.  
  
데이터패스는 연산을 수행하고, 제어 유닛(control unit)은 명령어가 뜻하는 바에 따라 데이터패스, 메모리, 입출력 장치가 할 일을 지시한다.  
  
메모리는 실행 중인 프로그램과 프로그램이 필요로 하는 데이터를 기억한다. iPhone 12 메모리는 DRAM 칩으로 구성되어 있는데, dynamic random access memory의 약자이다.  
DRAM 여러 개를 한데 묶어서 프로그램의 명령어와 데이터를 기억하는 데 사용한다.  
DRAM에서 RAM이란 말은 자기 테이프 같은 순차 접근 메모리와는 반대로 메모리의 어떤 부분을 읽든지 같은 시간이 걸린다는 것을 의미한다.  
  
프로세서 내부에는 또 다른 종류의 메모리가 있는데 이것을 캐시 메모리라 한다. 캐시 메모리는 DRAM의 버퍼 역할을 하는 작고 빠른 메모리이다. 캐시는 SRAM(static random access memory)이라는 다른 메모리 기술을 이용한다. SRAM은 DRAM보다 빠르지만 집적도가 낮아서 가격이 비싸다.  
  
제일 중요한 추상화 중 하나는 하드웨어와 최하위 소프트웨어 간의 인터페이스이다. 어휘를 구성하는 단어들을 명령어라고 하고, 어휘 자체는 명령어 집합 구조(instruction set architecture) 또는 단순히 구조(architecture)라고 한다.  
명령어 집합 구조에는 제대로 작동하는 이진 기계어 프로그램 작성을 위해 프로그래머가 알아야 하는 것 - 명령어, 입출력 장치 등이 모두 포함된다. 입출력, 메모리 할당 및 저수준 시스템 기능의 세부 사항은 운영체제가 감추어서 응용 프로그래머가 이러한 세세한 부분을 걱정하지 않아도 되도록 해 주는 것이 일반적이다. 응용 프로그래머에게 제공되는 기본 명령어 집합과 운영체제 인터페이스를 합쳐서 ABI(application binary interface)라 한다.  
  
> 하드웨어와 소프트웨어는 모두 추상화를 이용하여 계층적으로 구성되며, 각 하위 계층의 세세한 부분이 상위 계층에서는 보이지 않도록 한다. 여러 계층의 추상화 중에서 가장 중요한 것은 하드웨어와 하위 계층 소프트웨어 간의 인터페이스인 명령어 집합 구조이다.  
  
실행되는 동안 데이터와 프로그램을 기억하는 휘발성 메모리(ex: DRAM)와 다음번 실행 때까지 데이터와 프로그램을 저장하는 비휘발성 메모리(ex: DVD 디스크)를 구분하기 위해, 전자를 메인 메모리(main memory or primary memory)라고 하고 후자를 보조기억장치(secondary memory)라고 한다.  
  
이더넷은 근거리 네트워크(local area network, LAN)의 일종이다. 라우팅 서비스와 보안을 제공하는 스위치를 사용하면 LAN들을 서로 연결할 수 있다. 원거리 네트워크(wide area network, WAN)는 여러 대륙을 연결하여 웹을 지원하고 있는 인터넷의 근간을 이룬다. 이런 네트워크는 보통 광섬유로 구성하며 통신회사에서 임대해 준다.  