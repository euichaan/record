# 언제 테스트를 작성해야 할까?
테스트는 소프트웨어 품질을 높이기 위한 중요한 도구이다.  
여러 가지 방법론이 있는데 그 중 현재 옳다고 생각하는 테스트 작성 방법에 대해 설명한다.  
## 1. 버그를 만드는 사람은 그것에 대해 알지 못한다.
- **버그 발생**: 코드 작성 시 실수는 언제나 존재하지만, 그 실수를 사전에 인지하지 못한다. 만약 사전에 인지할 수 있다면, 버그는 발생하지 않는다.
- **예외 상황**: 새로운 기능이 수학적으로 명확히 정의된 입력과 출력을 갖는 경우에는 테스트를 작성하지만, 이 외의 경우에는 기능을 다 만든 후에 몇 가지 유닛 테스트만 추가한다.  
  
수학 문제를 풀고 난 후 검산 과정에서 같은 방법으로 풀어 실수를 발견하지 못하는 경우가 이에 해당한다.  
## 2. 테스트 작성 시점  
- **언제 테스트를 작성하는가?**
  - 주로 버그가 발생한 후에 테스트를 작성한다.  
  - 레이스 컨디션(Race Condition)과 같은 어려운 버그가 발생했을 때, 혹은 다른 사용자가 API 스펙에 맞지 않게 사용했을 때 테스트를 추가한다.  
  - 버그를 고치기 전, 먼저 테스트를 작성하고 그 테스트가 실패하는 것을 확인한 후, 문제를 해결한다.  
  - 문제를 해결한 후, 테스트가 성공하도록 코드를 수정한다.  

## 3. 이 방식의 장점
- **빠른 대응**: 버그가 발생한 시점에 테스트를 작성하고 고치는 방식은 비교적 빠르게 문제를 해결할 수 있는 실용적인 방법이다.
- **설계 의도 기록**: 유닛 테스트는 기능이 어떻게 설계되었는지에 대한 문서 역할을 하며, 코드의 의도를 명확히 남긴다.
- **버그 추적 가능**: 버그와 관련된 테스트가 작성되면, 이후 빌드 과정에서 자동으로 실행되어 지속적으로 코드의 안정성을 확인할 수 있다. 나중에라도 누군가 코드나 의도된 동작을 깨뜨리면, 이를 쉽게 파악하고 수정할 수 있다.

## 4. 자동화
- **자동화된 테스트 빌드**: 테스트는 빌드 시마다 자동으로 실행되어, 코드의 변경 사항이 예상하지 못한 문제를 유발하는지 확인하는 시스템이 구축되어야 한다. 이를 통해 코드 변경에 따른 불안정성을 줄일 수 있다.